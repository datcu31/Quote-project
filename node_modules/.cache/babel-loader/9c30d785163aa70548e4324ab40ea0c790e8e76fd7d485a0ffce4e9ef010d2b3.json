{"ast":null,"code":"import{Fragment,useEffect}from\"react\";import{Link,Route,useParams,useRouteMatch}from\"react-router-dom\";import Comments from\"../components/comments/Comments\";import HighlightedQuote from\"../components/quotes/HighlightedQuote\";import LoadingSpinner from\"../components/UI/LoadingSpinner\";import useHttp from\"../hooks/use-http\";import{getSingleQuote}from\"../lib/api\";// const DUMMY_QUOTES = [\n//     { id: 'q1', author: 'Max', text: 'Learning React is fun!' },\n//     { id: 'q2', author: 'Alex', text: 'Learning Redux is not so easy' },\n//     { id: 'q3', author: 'Tania', text: 'I will start to code' },\n// ];\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QuoteDetail=function QuoteDetail(){var _useHttp=useHttp(getSingleQuote,true),sendRequest=_useHttp.sendRequest,status=_useHttp.status,loadedQuote=_useHttp.data,error=_useHttp.error;var match=useRouteMatch();var params=useParams();var quoteId=params.quoteId;// const quote = DUMMY_QUOTES.find((quote) => quote.id === params.quoteId)\nuseEffect(function(){sendRequest(quoteId);},[sendRequest,quoteId]);if(status==='pending'){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});};if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"centered focus\",children:error});};if(!loadedQuote.text){return/*#__PURE__*/_jsx(\"p\",{children:\"No quote found!\"});}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(HighlightedQuote,{text:loadedQuote.text,author:loadedQuote.author}),/*#__PURE__*/_jsx(Route,{path:match.path,exact:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(Link,{className:\"btn--flat\",to:\"\".concat(match.url,\"/comments\"),children:\"Load comments\"})})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/comments\"),children:/*#__PURE__*/_jsx(Comments,{})})]});};export default QuoteDetail;","map":{"version":3,"names":["Fragment","useEffect","Link","Route","useParams","useRouteMatch","Comments","HighlightedQuote","LoadingSpinner","useHttp","getSingleQuote","QuoteDetail","sendRequest","status","loadedQuote","data","error","match","params","quoteId","text","author","path","url"],"sources":["C:/React/React-Router/src/pages/QuoteDetail.js"],"sourcesContent":["import { Fragment, useEffect } from \"react\";\r\nimport { Link, Route, useParams, useRouteMatch } from \"react-router-dom\";\r\nimport Comments from \"../components/comments/Comments\";\r\nimport HighlightedQuote from \"../components/quotes/HighlightedQuote\";\r\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\r\nimport useHttp from \"../hooks/use-http\";\r\nimport { getSingleQuote } from \"../lib/api\";\r\n\r\n// const DUMMY_QUOTES = [\r\n//     { id: 'q1', author: 'Max', text: 'Learning React is fun!' },\r\n//     { id: 'q2', author: 'Alex', text: 'Learning Redux is not so easy' },\r\n//     { id: 'q3', author: 'Tania', text: 'I will start to code' },\r\n// ];\r\n\r\nconst QuoteDetail = () => {\r\n    const { sendRequest, status, data: loadedQuote, error } = useHttp(getSingleQuote, true);\r\n    \r\n    const match = useRouteMatch();\r\n    const params = useParams();\r\n\r\n    const { quoteId} = params;\r\n\r\n    // const quote = DUMMY_QUOTES.find((quote) => quote.id === params.quoteId)\r\n\r\n    useEffect(() => {\r\n        sendRequest(quoteId);\r\n    }, [sendRequest, quoteId])\r\n\r\n    if(status === 'pending') {\r\n        return (\r\n            <div className=\"centered\">\r\n                <LoadingSpinner />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if(error) {\r\n        return(\r\n            <p className=\"centered focus\">{error}</p>\r\n        );\r\n    };\r\n\r\n    if (!loadedQuote.text) {\r\n        return (\r\n            <p>No quote found!</p>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <HighlightedQuote text={loadedQuote.text} author={loadedQuote.author} />\r\n            <Route path={match.path} exact>\r\n                <div className=\"centered\">\r\n                    <Link className=\"btn--flat\" to={`${match.url}/comments`}>Load comments</Link>\r\n                </div>\r\n            </Route>\r\n            <Route path={`${match.path}/comments`}>\r\n                <Comments />\r\n            </Route>\r\n        </Fragment>\r\n\r\n    );\r\n};\r\n\r\nexport default QuoteDetail;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,IAAI,CAAEC,KAAK,CAAEC,SAAS,CAAEC,aAAa,KAAQ,kBAAkB,CACxE,MAAOC,SAAQ,KAAM,iCAAiC,CACtD,MAAOC,iBAAgB,KAAM,uCAAuC,CACpE,MAAOC,eAAc,KAAM,iCAAiC,CAC5D,MAAOC,QAAO,KAAM,mBAAmB,CACvC,OAASC,cAAc,KAAQ,YAAY,CAE3C;AACA;AACA;AACA;AACA;AAAA,wFAEA,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACtB,aAA0DF,OAAO,CAACC,cAAc,CAAE,IAAI,CAAC,CAA/EE,WAAW,UAAXA,WAAW,CAAEC,MAAM,UAANA,MAAM,CAAQC,WAAW,UAAjBC,IAAI,CAAeC,KAAK,UAALA,KAAK,CAErD,GAAMC,MAAK,CAAGZ,aAAa,EAAE,CAC7B,GAAMa,OAAM,CAAGd,SAAS,EAAE,CAE1B,GAAQe,QAAO,CAAID,MAAM,CAAjBC,OAAO,CAEf;AAEAlB,SAAS,CAAC,UAAM,CACZW,WAAW,CAACO,OAAO,CAAC,CACxB,CAAC,CAAE,CAACP,WAAW,CAAEO,OAAO,CAAC,CAAC,CAE1B,GAAGN,MAAM,GAAK,SAAS,CAAE,CACrB,mBACI,YAAK,SAAS,CAAC,UAAU,uBACrB,KAAC,cAAc,IAAG,EAChB,CAEd,CAAC,CAED,GAAGG,KAAK,CAAE,CACN,mBACI,UAAG,SAAS,CAAC,gBAAgB,UAAEA,KAAK,EAAK,CAEjD,CAAC,CAED,GAAI,CAACF,WAAW,CAACM,IAAI,CAAE,CACnB,mBACI,mBAAG,iBAAe,EAAI,CAE9B,CAEA,mBACI,MAAC,QAAQ,yBACL,KAAC,gBAAgB,EAAC,IAAI,CAAEN,WAAW,CAACM,IAAK,CAAC,MAAM,CAAEN,WAAW,CAACO,MAAO,EAAG,cACxE,KAAC,KAAK,EAAC,IAAI,CAAEJ,KAAK,CAACK,IAAK,CAAC,KAAK,4BAC1B,YAAK,SAAS,CAAC,UAAU,uBACrB,KAAC,IAAI,EAAC,SAAS,CAAC,WAAW,CAAC,EAAE,WAAKL,KAAK,CAACM,GAAG,aAAY,UAAC,eAAa,EAAO,EAC3E,EACF,cACR,KAAC,KAAK,EAAC,IAAI,WAAKN,KAAK,CAACK,IAAI,aAAY,uBAClC,KAAC,QAAQ,IAAG,EACR,GACD,CAGnB,CAAC,CAED,cAAeX,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}